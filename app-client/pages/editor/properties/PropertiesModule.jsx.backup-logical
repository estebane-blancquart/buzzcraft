import React, { useState } from 'react';
import PropertyField from './PropertyField.jsx';
import { DEVICES } from '@config/constants.js';

// Composant section pliable
function CollapsibleSection({ title, isOpen, onToggle, children }) {
  return (
    <div className="collapsible-section">
      <button 
        className={`section-header ${isOpen ? 'open' : ''}`}
        onClick={onToggle}
        type="button"
      >
        <span className="section-title">{title}</span>
        <span className="section-arrow">{isOpen ? '▼' : '▶'}</span>
      </button>
      {isOpen && (
        <div className="section-content">
          {children}
        </div>
      )}
    </div>
  );
}

function PropertiesModule({ 
  selectedElement = null, 
  device = DEVICES.DESKTOP, 
  onElementUpdate = () => {} 
}) {
  const [activeTab, setActiveTab] = useState('content');
  const [openSections, setOpenSections] = useState({
    // Content sections
    metadata: false,
    seo: false,
    behavior: false,
    // Style sections (OUVERTS par défaut pour le style)
    colors: true,
    typography: true,
    visual: false,
    states: false,
    // Layout sections
    dimensions: false,
    spacing: false,
    flexbox: false,
    advanced: false
  });

  const toggleSection = (sectionKey) => {
    setOpenSections(prev => ({
      ...prev,
      [sectionKey]: !prev[sectionKey]
    }));
  };

  const getPropertyValue = (key) => {
    if (!selectedElement) return '';
    return selectedElement[key] || '';
  };

  const handlePropertyChange = (propertyName, value) => {
    if (!selectedElement || !onElementUpdate) return;
    
    const updatedElement = {
      ...selectedElement,
      [propertyName]: value
    };
    
    if (selectedElement.type === 'project') {
      updatedElement.updated = new Date().toISOString();
    }
    
    console.log(`��� Property changed: ${propertyName} = ${value}`);
    onElementUpdate(selectedElement.id, updatedElement);
  };

  const renderTabContent = () => {
    if (!selectedElement) return null;

    switch (activeTab) {
      case 'content':
        return renderContentTab();
      case 'style':
        return renderStyleTab();
      case 'layout':
        return renderLayoutTab();
      default:
        return null;
    }
  };

  const renderContentTab = () => {
    const elementType = selectedElement.type;

    return (
      <div className="tab-content">
        {/* CONTENT FIELDS - DIRECTEMENT VISIBLES */}
        
        {/* Content field pour tous les éléments textuels */}
        {(elementType === 'heading' || elementType === 'paragraph' || elementType === 'button' || elementType === 'link') && (
          <PropertyField
            label="Content"
            value={getPropertyValue('content')}
            type={elementType === 'paragraph' ? 'textarea' : 'text'}
            onChange={(value) => handlePropertyChange('content', value)}
          />
        )}

        {/* Image fields */}
        {elementType === 'image' && (
          <>
            <PropertyField
              label="Source URL"
              value={getPropertyValue('src')}
              type="url"
              onChange={(value) => handlePropertyChange('src', value)}
            />
            <PropertyField
              label="Alt Text"
              value={getPropertyValue('alt')}
              type="text"
              onChange={(value) => handlePropertyChange('alt', value)}
            />
            <PropertyField
              label="Object Fit"
              value={getPropertyValue('objectFit')}
              type="select"
              onChange={(value) => handlePropertyChange('objectFit', value)}
            >
              <option value="cover">Cover</option>
              <option value="contain">Contain</option>
              <option value="fill">Fill</option>
              <option value="none">None</option>
              <option value="scale-down">Scale Down</option>
            </PropertyField>
            <PropertyField
              label="Lazy Loading"
              value={getPropertyValue('lazy')}
              type="select"
              onChange={(value) => handlePropertyChange('lazy', value)}
            >
              <option value="false">Disabled</option>
              <option value="true">Enabled</option>
            </PropertyField>
          </>
        )}

        {/* Link fields pour buttons et links */}
        {(elementType === 'button' || elementType === 'link') && (
          <>
            <PropertyField
              label="Link URL"
              value={getPropertyValue('href')}
              type="url"
              onChange={(value) => handlePropertyChange('href', value)}
            />
            <PropertyField
              label="Target"
              value={getPropertyValue('target')}
              type="select"
              onChange={(value) => handlePropertyChange('target', value)}
            >
              <option value="_self">Same Window</option>
              <option value="_blank">New Window</option>
            </PropertyField>
          </>
        )}

        {/* Button specific */}
        {elementType === 'button' && (
          <>
            <PropertyField
              label="Button Type"
              value={getPropertyValue('buttonType')}
              type="select"
              onChange={(value) => handlePropertyChange('buttonType', value)}
            >
              <option value="button">Button</option>
              <option value="submit">Submit</option>
              <option value="reset">Reset</option>
            </PropertyField>
            <PropertyField
              label="Icon"
              value={getPropertyValue('icon')}
              type="text"
              onChange={(value) => handlePropertyChange('icon', value)}
            />
            <PropertyField
              label="Icon Position"
              value={getPropertyValue('iconPosition')}
              type="select"
              onChange={(value) => handlePropertyChange('iconPosition', value)}
            >
              <option value="left">Left</option>
              <option value="right">Right</option>
            </PropertyField>
            <PropertyField
              label="Action"
              value={getPropertyValue('action')}
              type="text"
              onChange={(value) => handlePropertyChange('action', value)}
            />
          </>
        )}

        {/* Heading tag */}
        {elementType === 'heading' && (
          <PropertyField
            label="Tag"
            value={getPropertyValue('tag')}
            type="select"
            onChange={(value) => handlePropertyChange('tag', value)}
          >
            <option value="h1">H1</option>
            <option value="h2">H2</option>
            <option value="h3">H3</option>
            <option value="h4">H4</option>
            <option value="h5">H5</option>
            <option value="h6">H6</option>
          </PropertyField>
        )}

        {/* Input specific */}
        {elementType === 'input' && (
          <>
            <PropertyField
              label="Placeholder"
              value={getPropertyValue('placeholder')}
              type="text"
              onChange={(value) => handlePropertyChange('placeholder', value)}
            />
            <PropertyField
              label="Input Type"
              value={getPropertyValue('inputType')}
              type="select"
              onChange={(value) => handlePropertyChange('inputType', value)}
            >
              <option value="text">Text</option>
              <option value="email">Email</option>
              <option value="password">Password</option>
              <option value="number">Number</option>
              <option value="tel">Phone</option>
              <option value="url">URL</option>
            </PropertyField>
            <PropertyField
              label="Required"
              value={getPropertyValue('required')}
              type="select"
              onChange={(value) => handlePropertyChange('required', value)}
            >
              <option value="false">Optional</option>
              <option value="true">Required</option>
            </PropertyField>
            <PropertyField
              label="Value"
              value={getPropertyValue('value')}
              type="text"
              onChange={(value) => handlePropertyChange('value', value)}
            />
          </>
        )}

        {/* Paragraph specific */}
        {elementType === 'paragraph' && (
          <>
            <PropertyField
              label="Max Lines"
              value={getPropertyValue('maxLines')}
              type="number"
              onChange={(value) => handlePropertyChange('maxLines', value)}
            />
            <PropertyField
              label="Word Break"
              value={getPropertyValue('wordBreak')}
              type="select"
              onChange={(value) => handlePropertyChange('wordBreak', value)}
            >
              <option value="normal">Normal</option>
              <option value="break-all">Break All</option>
              <option value="keep-all">Keep All</option>
            </PropertyField>
            <PropertyField
              label="Allow HTML"
              value={getPropertyValue('allowHtml')}
              type="select"
              onChange={(value) => handlePropertyChange('allowHtml', value)}
            >
              <option value="false">Disabled</option>
              <option value="true">Enabled</option>
            </PropertyField>
          </>
        )}

        {/* ADVANCED SECTIONS - Repliées par défaut */}
        <CollapsibleSection
          title="Metadata"
          isOpen={openSections.metadata}
          onToggle={() => toggleSection('metadata')}
        >
          {elementType === 'project' && (
            <>
              <PropertyField
                label="Name"
                value={getPropertyValue('name')}
                type="text"
                onChange={(value) => handlePropertyChange('name', value)}
              />
              <PropertyField
                label="Description"
                value={getPropertyValue('description')}
                type="textarea"
                onChange={(value) => handlePropertyChange('description', value)}
              />
              <PropertyField
                label="Author"
                value={getPropertyValue('author')}
                type="text"
                onChange={(value) => handlePropertyChange('author', value)}
              />
              <PropertyField
                label="Version"
                value={getPropertyValue('version')}
                type="text"
                onChange={(value) => handlePropertyChange('version', value)}
              />
            </>
          )}
          
          {elementType === 'page' && (
            <>
              <PropertyField
                label="Name"
                value={getPropertyValue('name')}
                type="text"
                onChange={(value) => handlePropertyChange('name', value)}
              />
              <PropertyField
                label="Slug"
                value={getPropertyValue('slug')}
                type="text"
                onChange={(value) => handlePropertyChange('slug', value)}
              />
              <PropertyField
                label="Title"
                value={getPropertyValue('title')}
                type="text"
                onChange={(value) => handlePropertyChange('title', value)}
              />
              <PropertyField
                label="Meta Description"
                value={getPropertyValue('metaDescription')}
                type="textarea"
                onChange={(value) => handlePropertyChange('metaDescription', value)}
              />
            </>
          )}

          {(elementType === 'section' || elementType === 'div' || elementType === 'list' || elementType === 'form') && (
            <PropertyField
              label="Name"
              value={getPropertyValue('name')}
              type="text"
              onChange={(value) => handlePropertyChange('name', value)}
            />
          )}
        </CollapsibleSection>
      </div>
    );
  };

  const renderStyleTab = () => {
    return (
      <div className="tab-content">
        {/* Colors section - OUVERT par défaut */}
        <CollapsibleSection
          title="Colors"
          isOpen={openSections.colors}
          onToggle={() => toggleSection('colors')}
        >
          {selectedElement.type === 'project' && (
            <>
              <PropertyField
                label="Light Primary Color"
                value={getPropertyValue('lightPrimaryColor')}
                type="color"
                onChange={(value) => handlePropertyChange('lightPrimaryColor', value)}
              />
              <PropertyField
                label="Light Secondary Color"
                value={getPropertyValue('lightSecondaryColor')}
                type="color"
                onChange={(value) => handlePropertyChange('lightSecondaryColor', value)}
              />
              <PropertyField
                label="Dark Primary Color"
                value={getPropertyValue('darkPrimaryColor')}
                type="color"
                onChange={(value) => handlePropertyChange('darkPrimaryColor', value)}
              />
              <PropertyField
                label="Dark Secondary Color"
                value={getPropertyValue('darkSecondaryColor')}
                type="color"
                onChange={(value) => handlePropertyChange('darkSecondaryColor', value)}
              />
            </>
          )}
          
          {selectedElement.type !== 'project' && (
            <>
              <PropertyField
                label="Background Color"
                value={getPropertyValue('backgroundColor')}
                type="color"
                onChange={(value) => handlePropertyChange('backgroundColor', value)}
              />
              <PropertyField
                label="Text Color"
                value={getPropertyValue('textColor')}
                type="color"
                onChange={(value) => handlePropertyChange('textColor', value)}
              />
              <PropertyField
                label="Border Color"
                value={getPropertyValue('borderColor')}
                type="color"
                onChange={(value) => handlePropertyChange('borderColor', value)}
              />
            </>
          )}
        </CollapsibleSection>

        {/* Typography section - OUVERT par défaut */}
        <CollapsibleSection
          title="Typography"
          isOpen={openSections.typography}
          onToggle={() => toggleSection('typography')}
        >
          <PropertyField
            label="Font Size"
            value={getPropertyValue('fontSize')}
            type="text"
            onChange={(value) => handlePropertyChange('fontSize', value)}
          />
          <PropertyField
            label="Font Weight"
            value={getPropertyValue('fontWeight')}
            type="select"
            onChange={(value) => handlePropertyChange('fontWeight', value)}
          >
            <option value="300">Light (300)</option>
            <option value="400">Normal (400)</option>
            <option value="500">Medium (500)</option>
            <option value="600">Semi Bold (600)</option>
            <option value="700">Bold (700)</option>
          </PropertyField>
          <PropertyField
            label="Text Align"
            value={getPropertyValue('textAlign')}
            type="select"
            onChange={(value) => handlePropertyChange('textAlign', value)}
          >
            <option value="left">Left</option>
            <option value="center">Center</option>
            <option value="right">Right</option>
            <option value="justify">Justify</option>
          </PropertyField>
          <PropertyField
            label="Line Height"
            value={getPropertyValue('lineHeight')}
            type="text"
            onChange={(value) => handlePropertyChange('lineHeight', value)}
          />
          <PropertyField
            label="Letter Spacing"
            value={getPropertyValue('letterSpacing')}
            type="text"
            onChange={(value) => handlePropertyChange('letterSpacing', value)}
          />
          {selectedElement.type === 'link' && (
            <PropertyField
              label="Text Decoration"
              value={getPropertyValue('textDecoration')}
              type="select"
              onChange={(value) => handlePropertyChange('textDecoration', value)}
            >
              <option value="none">None</option>
              <option value="underline">Underline</option>
              <option value="overline">Overline</option>
              <option value="line-through">Line Through</option>
            </PropertyField>
          )}
        </CollapsibleSection>

        {/* Visual section */}
        <CollapsibleSection
          title="Visual"
          isOpen={openSections.visual}
          onToggle={() => toggleSection('visual')}
        >
          <PropertyField
            label="Border"
            value={getPropertyValue('border')}
            type="text"
            onChange={(value) => handlePropertyChange('border', value)}
          />
          <PropertyField
            label="Border Radius"
            value={getPropertyValue('borderRadius')}
            type="text"
            onChange={(value) => handlePropertyChange('borderRadius', value)}
          />
          <PropertyField
            label="Box Shadow"
            value={getPropertyValue('boxShadow')}
            type="text"
            onChange={(value) => handlePropertyChange('boxShadow', value)}
          />
          <PropertyField
            label="Opacity"
            value={getPropertyValue('opacity')}
            type="number"
            onChange={(value) => handlePropertyChange('opacity', value)}
          />
          {selectedElement.type !== 'project' && (
            <PropertyField
              label="Overflow"
              value={getPropertyValue('overflow')}
              type="select"
              onChange={(value) => handlePropertyChange('overflow', value)}
            >
              <option value="visible">Visible</option>
              <option value="hidden">Hidden</option>
              <option value="scroll">Scroll</option>
              <option value="auto">Auto</option>
            </PropertyField>
          )}
        </CollapsibleSection>

        {/* States section - Composants interactifs seulement */}
        {(selectedElement.type === 'button' || selectedElement.type === 'link') && (
          <CollapsibleSection
            title="Interactive States"
            isOpen={openSections.states}
            onToggle={() => toggleSection('states')}
          >
            {/* Hover States */}
            <PropertyField
              label="Hover Background"
              value={getPropertyValue('hoverBackgroundColor')}
              type="color"
              onChange={(value) => handlePropertyChange('hoverBackgroundColor', value)}
            />
            <PropertyField
              label="Hover Text Color"
              value={getPropertyValue('hoverTextColor')}
              type="color"
              onChange={(value) => handlePropertyChange('hoverTextColor', value)}
            />
            <PropertyField
              label="Hover Border Color"
              value={getPropertyValue('hoverBorderColor')}
              type="color"
              onChange={(value) => handlePropertyChange('hoverBorderColor', value)}
            />
            <PropertyField
              label="Hover Opacity"
              value={getPropertyValue('hoverOpacity')}
              type="number"
              onChange={(value) => handlePropertyChange('hoverOpacity', value)}
            />
            
            {/* Focus States */}
            <PropertyField
              label="Focus Background"
              value={getPropertyValue('focusBackgroundColor')}
              type="color"
              onChange={(value) => handlePropertyChange('focusBackgroundColor', value)}
            />
            <PropertyField
              label="Focus Text Color"
              value={getPropertyValue('focusTextColor')}
              type="color"
              onChange={(value) => handlePropertyChange('focusTextColor', value)}
            />
            <PropertyField
              label="Focus Border Color"
              value={getPropertyValue('focusBorderColor')}
              type="color"
              onChange={(value) => handlePropertyChange('focusBorderColor', value)}
            />
            <PropertyField
              label="Focus Box Shadow"
              value={getPropertyValue('focusBoxShadow')}
              type="text"
              onChange={(value) => handlePropertyChange('focusBoxShadow', value)}
            />
            
            {/* Active States */}
            <PropertyField
              label="Active Background"
              value={getPropertyValue('activeBackgroundColor')}
              type="color"
              onChange={(value) => handlePropertyChange('activeBackgroundColor', value)}
            />
            <PropertyField
              label="Active Text Color"
              value={getPropertyValue('activeTextColor')}
              type="color"
              onChange={(value) => handlePropertyChange('activeTextColor', value)}
            />
            <PropertyField
              label="Active Transform"
              value={getPropertyValue('activeTransform')}
              type="text"
              onChange={(value) => handlePropertyChange('activeTransform', value)}
            />
            
            {/* Disabled States */}
            <PropertyField
              label="Disabled Background"
              value={getPropertyValue('disabledBackgroundColor')}
              type="color"
              onChange={(value) => handlePropertyChange('disabledBackgroundColor', value)}
            />
            <PropertyField
              label="Disabled Text Color"
              value={getPropertyValue('disabledTextColor')}
              type="color"
              onChange={(value) => handlePropertyChange('disabledTextColor', value)}
            />
            <PropertyField
              label="Disabled Opacity"
              value={getPropertyValue('disabledOpacity')}
              type="number"
              onChange={(value) => handlePropertyChange('disabledOpacity', value)}
            />
          </CollapsibleSection>
        )}
      </div>
    );
  };

  const renderLayoutTab = () => {
    return (
      <div className="tab-content">
        {/* Dimensions section */}
        <CollapsibleSection
          title="Dimensions"
          isOpen={openSections.dimensions}
          onToggle={() => toggleSection('dimensions')}
        >
          <PropertyField
            label="Width"
            value={getPropertyValue('width')}
            type="text"
            onChange={(value) => handlePropertyChange('width', value)}
          />
          <PropertyField
            label="Height"
            value={getPropertyValue('height')}
            type="text"
            onChange={(value) => handlePropertyChange('height', value)}
          />
          
          {/* Responsive dimensions */}
          <PropertyField
            label="Width Desktop"
            value={getPropertyValue('widthDesktop')}
            type="text"
            onChange={(value) => handlePropertyChange('widthDesktop', value)}
          />
          <PropertyField
            label="Width Tablet"
            value={getPropertyValue('widthTablet')}
            type="text"
            onChange={(value) => handlePropertyChange('widthTablet', value)}
          />
          <PropertyField
            label="Width Mobile"
            value={getPropertyValue('widthMobile')}
            type="text"
            onChange={(value) => handlePropertyChange('widthMobile', value)}
          />
          <PropertyField
            label="Height Desktop"
            value={getPropertyValue('heightDesktop')}
            type="text"
            onChange={(value) => handlePropertyChange('heightDesktop', value)}
          />
          <PropertyField
            label="Height Tablet"
            value={getPropertyValue('heightTablet')}
            type="text"
            onChange={(value) => handlePropertyChange('heightTablet', value)}
          />
          <PropertyField
            label="Height Mobile"
            value={getPropertyValue('heightMobile')}
            type="text"
            onChange={(value) => handlePropertyChange('heightMobile', value)}
          />
        </CollapsibleSection>

        {/* Spacing section */}
        <CollapsibleSection
          title="Spacing"
          isOpen={openSections.spacing}
          onToggle={() => toggleSection('spacing')}
        >
          {/* Padding */}
          <PropertyField
            label="Padding"
            value={getPropertyValue('padding')}
            type="text"
            onChange={(value) => handlePropertyChange('padding', value)}
          />
          <PropertyField
            label="Padding Top"
            value={getPropertyValue('paddingTop')}
            type="text"
            onChange={(value) => handlePropertyChange('paddingTop', value)}
          />
          <PropertyField
            label="Padding Right"
            value={getPropertyValue('paddingRight')}
            type="text"
            onChange={(value) => handlePropertyChange('paddingRight', value)}
          />
          <PropertyField
            label="Padding Bottom"
            value={getPropertyValue('paddingBottom')}
            type="text"
            onChange={(value) => handlePropertyChange('paddingBottom', value)}
          />
          <PropertyField
            label="Padding Left"
            value={getPropertyValue('paddingLeft')}
            type="text"
            onChange={(value) => handlePropertyChange('paddingLeft', value)}
          />
          
          {/* Margin */}
          <PropertyField
            label="Margin"
            value={getPropertyValue('margin')}
            type="text"
            onChange={(value) => handlePropertyChange('margin', value)}
          />
          <PropertyField
            label="Margin Top"
            value={getPropertyValue('marginTop')}
            type="text"
            onChange={(value) => handlePropertyChange('marginTop', value)}
          />
          <PropertyField
            label="Margin Right"
            value={getPropertyValue('marginRight')}
            type="text"
            onChange={(value) => handlePropertyChange('marginRight', value)}
          />
          <PropertyField
            label="Margin Bottom"
            value={getPropertyValue('marginBottom')}
            type="text"
            onChange={(value) => handlePropertyChange('marginBottom', value)}
          />
          <PropertyField
            label="Margin Left"
            value={getPropertyValue('marginLeft')}
            type="text"
            onChange={(value) => handlePropertyChange('marginLeft', value)}
          />
        </CollapsibleSection>

        {/* Flexbox section - Containers seulement */}
        {(selectedElement.type === 'div' || selectedElement.type === 'section' || selectedElement.type === 'form') && (
          <CollapsibleSection
            title="Flexbox"
            isOpen={openSections.flexbox}
            onToggle={() => toggleSection('flexbox')}
          >
            <PropertyField
              label="Display"
              value={getPropertyValue('display')}
              type="select"
              onChange={(value) => handlePropertyChange('display', value)}
            >
              <option value="block">Block</option>
              <option value="flex">Flex</option>
              <option value="grid">Grid</option>
            </PropertyField>
            <PropertyField
              label="Flex Direction"
              value={getPropertyValue('flexDirection')}
              type="select"
              onChange={(value) => handlePropertyChange('flexDirection', value)}
            >
              <option value="row">Row</option>
              <option value="column">Column</option>
              <option value="row-reverse">Row Reverse</option>
              <option value="column-reverse">Column Reverse</option>
            </PropertyField>
            <PropertyField
              label="Justify Content"
              value={getPropertyValue('justifyContent')}
              type="select"
              onChange={(value) => handlePropertyChange('justifyContent', value)}
            >
              <option value="flex-start">Start</option>
              <option value="center">Center</option>
              <option value="flex-end">End</option>
              <option value="space-between">Space Between</option>
              <option value="space-around">Space Around</option>
              <option value="space-evenly">Space Evenly</option>
            </PropertyField>
            <PropertyField
              label="Align Items"
              value={getPropertyValue('alignItems')}
              type="select"
              onChange={(value) => handlePropertyChange('alignItems', value)}
            >
              <option value="stretch">Stretch</option>
              <option value="center">Center</option>
              <option value="flex-start">Start</option>
              <option value="flex-end">End</option>
              <option value="baseline">Baseline</option>
            </PropertyField>
            <PropertyField
              label="Flex Wrap"
              value={getPropertyValue('flexWrap')}
              type="select"
              onChange={(value) => handlePropertyChange('flexWrap', value)}
            >
              <option value="nowrap">No Wrap</option>
              <option value="wrap">Wrap</option>
              <option value="wrap-reverse">Wrap Reverse</option>
            </PropertyField>
            <PropertyField
              label="Gap"
              value={getPropertyValue('gap')}
              type="text"
              onChange={(value) => handlePropertyChange('gap', value)}
            />
          </CollapsibleSection>
        )}

        {/* Advanced section */}
        <CollapsibleSection
          title="Advanced"
          isOpen={openSections.advanced}
          onToggle={() => toggleSection('advanced')}
        >
          <PropertyField
            label="CSS Classes"
            value={getPropertyValue('classname')}
            type="text"
            onChange={(value) => handlePropertyChange('classname', value)}
          />
        </CollapsibleSection>
      </div>
    );
  };

  if (!selectedElement) {
    return (
      <div className="project-properties">
        <div className="properties-content">
          <div className="properties-empty">
            <div className="empty-icon">���</div>
            <div className="empty-text">
              <h4>No Element Selected</h4>
              <p>Select an element from the structure or preview to edit its properties</p>
            </div>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="project-properties">
      <div className="properties-content">
        {/* Tabs Navigation */}
        <div className="properties-tabs">
          <button
            className={`properties-tab ${activeTab === 'content' ? 'active' : ''}`}
            onClick={() => setActiveTab('content')}
          >
            CONTENT
          </button>
          <button
            className={`properties-tab ${activeTab === 'style' ? 'active' : ''}`}
            onClick={() => setActiveTab('style')}
          >
            STYLE
          </button>
          <button
            className={`properties-tab ${activeTab === 'layout' ? 'active' : ''}`}
            onClick={() => setActiveTab('layout')}
          >
            LAYOUT
          </button>
        </div>

        {/* Active Tab Content */}
        {renderTabContent()}
      </div>
    </div>
  );
}

export default PropertiesModule;